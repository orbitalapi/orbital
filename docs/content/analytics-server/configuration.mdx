---
title: Analytics Server Configuration
description: >-
  Analytics Server can store query execution data either in H2 or in Postgres.  This section
  describes how to configure Analytics and Vyne Query Server.
---

import { Link } from "gatsby"

## Introduction

To use analytics Server, you need to configure both vyne query server and analytics server by specifying certain command line arguments.

## Vyne Query Server Configuration:
You can configure Vyne Query Server either by using:

```
remote-analytics
```

spring profile or by passing:

```
--vyne.analytics.mode=Remote
--vyne.analytics.persistRemoteCallResponses=true
--vyne.analytics.persistResults=true
--spring.autoconfigure.exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration
```

command line arguments.

Default spring application name of the analytics server is:

```
VYNE-ANALYTICS-SERVER
```

If you use a different spring application name for the analytics server through ```--spring.application.name``` configuration option then use:

```
--vyne.analytics.analyticsServerApplicationName
```

in Vyne Query Server to specify the analytics server application name.

## Analytics Server Configuration

By default Analytics server is configured to store analytics data in a H2 database. To use a Postgres database, create an empty postgres database and
pass the following postgres related options:

```
--spring.datasource.url="jdbc:postgresql://DATABASE_HOST:DATABASE_PORT/DATABASE_NAME"
--spring.datasource.username="DB USERNAME"
--spring.datasource.password="DB PASSWORD"
```

Analytics server exposes a set of rest services which are served through an embedded web server running on port 9405. You can change this default port value through:

```
 --server.port=9405
```

In addition to the embedded web server port, analytics server has another server listening for analytics data coming from vyne query server.
7654 is the default port number for this server, but you can supply another port number value through:

```
--vyne.analytics-server.port=7654
```
