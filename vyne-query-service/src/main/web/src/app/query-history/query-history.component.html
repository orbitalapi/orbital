<mat-toolbar color="primary" style="z-index: 999">
  <span>Query History</span>
  <div class="toolbar-spacer"></div>
  <span>
    <button mat-stroked-button (click)="loadData()">Refresh</button>
  </span>
  <app-search-bar-container></app-search-bar-container>
</mat-toolbar>

<mat-sidenav-container [hasBackdrop]="true">
  <mat-drawer #drawer mode="over" position="end" [(opened)]="showSidePanel && this.shouldTypedInstancePanelBeVisible">
    <div class="drawer-content">
      <app-typed-instance-panel-container
        [instance]="selectedTypeInstance"
        (hasTypedInstanceDrawerClosed)="onCloseTypedInstanceDrawer($event)"
        [type]="selectedTypeInstanceType"
        [lineageGraph]="activeRecord?.response?.lineageGraph"
      ></app-typed-instance-panel-container>
    </div>
  </mat-drawer>
  <div class="container">
    <app-query-list [historyRecords]="history" (recordSelected)="setActiveRecord($event)"></app-query-list>
    <div class="results-section">
      <div class="results-container">

          <query-result-container [result]="activeRecord?.response"
                                  [activeRecord]="activeRecord"
                                  (instanceSelected)="onInstanceSelected($event)"
          ></query-result-container>
      </div>
    </div>

  </div>
</mat-sidenav-container>
