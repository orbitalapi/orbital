<div class="container">
  <div class="code-viewer-container">
    <ngx-monaco-editor [options]="editorOptions" class="code-editor" [(ngModel)]="query" #editor>
    </ngx-monaco-editor>
  </div>

  <app-query-editor-bottom-bar
    (executeQuery)="submitQuery()"
    [currentState]="currentState"
    [error]="lastErrorMessage"
  >
  </app-query-editor-bottom-bar>
</div>
<div class="unmatched-nodes-alert" *ngIf="lastQueryResultAsSuccess?.unmatchedNodes?.length > 0">
  <img src="assets/img/no-path.svg">
  <div>
    <span>Vyne wasn't able to find a way to load the following type(s):</span>
    <ul>
      <li *ngFor="let name of lastQueryResultAsSuccess?.unmatchedNodes">{{name.longDisplayName}}</li>
    </ul>
    <span>This can happen if there's no service running which returns this data. If you specified criteria for this type,
    then a service must also accept those inputs as parameters in order to be called.</span>
  </div>
</div>
<app-tabbed-results-view *ngIf="lastQueryResult"
                         [result]="lastQueryResult"
                         (instanceSelected)="instanceSelected.emit($event)"
                         (downloadClicked)="downloadQueryHistory($event.format)"
></app-tabbed-results-view>
