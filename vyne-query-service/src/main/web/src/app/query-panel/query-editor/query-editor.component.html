<div class="container">
  <div class="code-viewer-container">
    <ngx-monaco-editor [options]="editorOptions" class="code-editor" [(ngModel)]="query" #editor>
    </ngx-monaco-editor>
  </div>

  <app-query-editor-bottom-bar
    (executeQuery)="submitQuery()"
    [currentState]="currentState"
    [error]="lastErrorMessage"
  >
  </app-query-editor-bottom-bar>
</div>

<app-tabbed-results-view *ngIf="lastQueryResult"
                         [result]="lastQueryResult"
                         (instanceSelected)="instanceSelected.emit($event)"
                         (downloadClicked)="downloadQueryHistory($event.format)"
></app-tabbed-results-view>
